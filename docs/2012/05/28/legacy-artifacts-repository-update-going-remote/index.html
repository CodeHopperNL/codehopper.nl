<!DOCTYPE html> <html> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"> <title>Legacy artifacts repository update: going remote &#8211; CodeHopper</title> <meta name="description" content="The case against"> <meta name="keywords" content=""> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="logo.png"> <meta name="twitter:title" content="Legacy artifacts repository update: going remote"> <meta name="twitter:description" content="The case against"> <meta name="twitter:site" content="@skuro"> <meta name="twitter:creator" content="@skuro"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Legacy artifacts repository update: going remote"> <meta property="og:description" content="The case against"> <meta property="og:url" content="https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/"> <meta property="og:site_name" content="CodeHopper"> <meta property="og:image" content="https://codehopper.nl/img/logo.png"> <link rel="canonical" href="https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="https://codehopper.nl/feed.xml" title="" /> <!-- Favicons --> <link rel="shortcut icon" type="image/png" href="/favicon.png" /> <link rel="shortcut icon" href="/favicon.ico" /> <!-- CSS --> <link rel="stylesheet" type="text/css" href="/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(/img/default-post.png) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> #posts .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(/img/post-list.png) no-repeat;background-size: cover, cover;} .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(/img/home.png) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left" style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(/img/post/legacy-remote.png) no-repeat; background-size: cover"> <div class="content"> <a href="/" class="logo"><img src="/img/logo-small.png"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em></div> <h1 class="section-title">Legacy artifacts repository update: going remote </h1> <ul class="tags"> <li><a href="/tags#alm">alm</a></li> <li><a href="/tags#maven">maven</a></li> </ul> <div class="section-line reverse"><a href="/posts">Back to posts</a> <em>/</em></div> </div> </div> </div> <div class="block-right"> <div class="share-buttons"> <a href="https://twitter.com/intent/tweet?text=https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> </div> <a href="/posts.html" title="posts" class="posts-menu-icon"></a> <!-- a title="/projects" class="projects-menu-icon"> <span></span> </a --> <div class="inner-post content"> <nav class="pagination"> <a href="/2012/05/14/legacy-libraries-for-your-maven-build/" class="pagination_pager" title="Legacy libraries for your maven build ">&lt; Legacy libraries for your m...</a> <a href="/2012/06/27/h2-support-for-the-lates-alfresco-versions/" class="pagination_pager" title="H2 support updated to the latest Alfresco versions ">H2 support updated to the l... &gt;</a> </nav> <div class="date-highlight">28 May 2012</div> <h1 id="the-case-against">The case against</h1> <p>After <a href="http://skuro.tk/2012/05/14/legacy-libraries-for-your-maven-build/">showing</a> how to use your version control repository to host legacy libraries, <a href="http://discursive.com/">Tim O’Brien</a> made a case against its use mentioning how a maintenance hell it would be to use such a strategy, and that a repository manager like <a href="http://www.sonatype.org/nexus">Nexus</a> or <a href="http://www.jfrog.com/index.php">Artifactory</a> is the preferred solution. After all, with a local repository in your sources you’re indeed unable to <strong>download</strong> the JAR, so that any dependent project wouldn’t be able to compile against your transitive dependencies. Isn’t it part of the maven revolution to never, ever check in your libraries in your VCS?</p> <h1 id="the-case-for">The case for</h1> <p>When your project has a mid-big scale, and you depend on a tens of legacy/funny libraries that the whole Internet can’t provide, which are maybe still likely to get updates, you should <del>question your project</del> take the chance to leverage a repository manager. But, if your project is relatively small, with just a bunch of stray dependencies and no access to a repository manager for any reason, there’s little value to gain from building an infrastructure around your JARs, and you can easily leverage a piece of infrastructure you’re most likely to have already: your remote or centralized VCS repository.</p> <h1 id="not-only-github">[Not only] Github</h1> <p>While <a href="https://github.com/">Github</a> is my source hosting service of choice, and I’m sticking to it for the sake of my example, the strategy is not limited to it, and as long as you have plain HTTP access to your source files you can create such an integration. <a href="http://code.google.com/p/maven-svn-wagon/wiki/MavenRepositoryInsideGoogleCode">SVN on Google Code</a> is just another option.</p> <p>That said, let’s get to the juicy part. The main problem with a <code class="highlighter-rouge">file://</code> based repository is that absolute URLs and locality of artifacts get in the way of other people leveraging your project, eventually breaking transitive dependencies access. The trick is then to just point to the remote location where your sources are already hosted and available, still exploiting the Maven repository layout. As already explained <a href="http://cemerick.com/2010/08/24/hosting-maven-repos-on-github/">elsewhere</a>, here’s the <code class="highlighter-rouge">&lt;repository&gt;</code> definition to put in your POM in case you’re on Github:</p> <div class="highlighter-rouge"><pre class="highlight"><code>&lt;repository&gt;
    &lt;id&gt;repo&lt;/id&gt;
    &lt;url&gt;https://github.com/$USER/$PROJECT/raw/master/$PATH&lt;/url&gt;
&lt;/repository&gt;
</code></pre></div> <p>Where you have to replace <code class="highlighter-rouge">$USER</code>, <code class="highlighter-rouge">$PROJECT</code> and <code class="highlighter-rouge">$PATH</code> with your Github username, your project name and the path to your maven repository root within your sources (e.g. <code class="highlighter-rouge">src/main/lib</code> in the previous article).</p> <br> <nav class="pagination"> <a href="/2012/05/14/legacy-libraries-for-your-maven-build/" class="pagination_pager" title="Legacy libraries for your maven build ">&lt; Legacy libraries for your m...</a> <a href="/2012/06/27/h2-support-for-the-lates-alfresco-versions/" class="pagination_pager" title="H2 support updated to the latest Alfresco versions ">H2 support updated to the l... &gt;</a> </nav> <a href="https://twitter.com/intent/tweet?text=https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://plus.google.com/share?url=https://codehopper.nl/2012/05/28/legacy-artifacts-repository-update-going-remote/" class="btn btn_google-plus" title="Share on Google Plus"><i class="fa fa-fw fa-google-plus" aria-hidden="true"></i><span> Google+</span></a> <br /> <div id="disqus_thread"></div> <script> /** * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS. * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/ /* var disqus_config = function () { this.page.url = PAGE_URL; this.page.identifier = PAGE_IDENTIFIER; }; */ (function() { /* DON'T EDIT BELOW THIS LINE */ var d = document, s = d.createElement('script'); s.src = '//skuro.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> </div> </div> <!-- JS --> <script src="/assets/js/main.min.js"></script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(http://taylantatli.me/Halve/images/halve-home-image.png) center center no-repeat;"> <a href="http://taylantatli.me/Halve" class="inactive" target="_blank" rel="nofollow external"> <span> Halve Jekyll Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://cloud.githubusercontent.com/assets/754514/14509720/61c61058-01d6-11e6-93ab-0918515ecd56.png) center center no-repeat;"> <a href="http://taylantatli.me/Moon" target="_blank" rel="nofollow external"> <span> Moon Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png) center center no-repeat;"> <a href="http://taylantatli.me/Ramme" target="_blank" rel="nofollow external"> <span> Ramme Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Daisy-Pelican-Theme/master/Preview-1.png) center center no-repeat;"> <a href="http://taylantatli.me/Daisy-Pelican-Theme/" target="_blank" rel="nofollow external"> <span> Daisy Pelican Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Block-Icon-Theme/master/Preview.png) center center no-repeat;"> <a href="https://github.com/TaylanTatli/Block-Icon-Theme" class="inactive" target="_blank" rel="nofollow external"> <span> Block Icon Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/StartPage/master/preview.png) center center no-repeat;"> <a href="http://taylantatli.me/StartPage/" class="inactive" target="_blank" rel="nofollow external"> <span> Start Page <br><em>in progress</em> </span> </a> </li> </ul> </div> <script> (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','https://www.google-analytics.com/analytics.js','ga'); ga('create', 'UA-6754361-4', 'auto'); ga('send', 'pageview'); </script> </body> </html>
