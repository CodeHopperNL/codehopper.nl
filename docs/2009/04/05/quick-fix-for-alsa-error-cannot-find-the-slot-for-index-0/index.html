<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Quick fix for ALSA error: cannot find the slot for index 0 &#8211; CodeHopper</title> <meta name="description" content="Since the last kernel upgrade (now running a slightly customized 2.6.28) I started to experience a nasty issue with my audio configuration. I haven’t had the time to look at it since today, and it actually took a bit to figure out what was going wrong. Actually, my integrated audio card was no more visible on the system, i.e.:"> <meta name="keywords" content=""> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="https://codehopper.nl/img/logo.svg"> <meta name="twitter:title" content="Quick fix for ALSA error: cannot find the slot for index 0"> <meta name="twitter:description" content="Since the last kernel upgrade (now running a slightly customized 2.6.28) I started to experience a nasty issue with my audio configuration. I haven’t had the time to look at it since today, and it actually took a bit to figure out what was going wrong. Actually, my integrated audio card was no more visible on the system, i.e.:"> <meta name="twitter:site" content="@skuro"> <meta name="twitter:creator" content="@skuro"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="Quick fix for ALSA error: cannot find the slot for index 0"> <meta property="og:description" content="Since the last kernel upgrade (now running a slightly customized 2.6.28) I started to experience a nasty issue with my audio configuration. I haven’t had the time to look at it since today, and it actually took a bit to figure out what was going wrong. Actually, my integrated audio card was no more visible on the system, i.e.:"> <meta property="og:url" content="https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/"> <meta property="og:site_name" content="CodeHopper"> <meta property="og:image" content="https://codehopper.nl/img/logo.svg"> <link rel="canonical" href="https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <!-- Feed --> <link type="application/atom+xml" rel="alternate" href="https://codehopper.nl/feed.xml" title="CodeHopper" /> <!-- Favicons --> <link rel="shortcut icon" type="image/svg+xml" href="/img/logo.svg" /> <!-- CSS --> <link rel="stylesheet" type="text/css" href="/assets/css/main.css"> <!-- Left Block Image for Posts --> <style type="text/css"> #posts.inner-post-page .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(/img/default-post.png) no-repeat;background-size: cover;} </style> <!-- Left Block Images for Home and Pages --> <style type="text/css"> #posts .block-left {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(/img/post-list.png) no-repeat;background-size: cover, cover;} .block-left {background: linear-gradient(rgba(44,45,51,0.9), rgba(44,45,51,0.9)), url(/img/home.png) no-repeat;background-size: cover;} </style> </head> <body id="posts" class="inner-post-page"> <div class="block-left" style="background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url(/img/post/console-snapshot.png) no-repeat; background-size: cover"> <div class="content"> <a aria-label="Go to the homepage" href="/" class="logo"><img alt="Code Hopper small logo" src="/img/logo.svg"></a> <div class="post-title-section"> <div class="section-line">Posts <em>/</em></div> <h1 class="section-title">Quick fix for ALSA error: cannot find the slot for index 0 </h1> <ul class="tags"> <li><a href="/tags#linux">linux</a></li> </ul> <a href="https://twitter.com/intent/tweet?text=https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://news.ycombinator.com/submitlink?u=https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/" class="btn btn_hn" title="Share on Hacker News"><i class="fa fa-fw fa-hacker-news" aria-hidden="true"></i><span> Hacker News</span></a> <div class="section-line reverse"><a href="/posts">Back to posts</a> <em>/</em></div> </div> </div> </div> <div class="block-right"> <div class="inner-post content"> <nav class="pagination"> <a href="/2009/03/24/apache-meetups-day-1/" class="pagination_pager" title="Apache Meetups - Day #1 ">&lt; Apache Meetups - Day #1</a> <a href="/2009/09/15/alfresco-and-ldap-sync-lock-my-admin-no-more/" class="pagination_pager" title="Alfresco and LDAP sync lock my Admin no more! ">Alfresco and LDAP sync lock... &gt;</a> </nav> <div class="date-highlight">05 Apr 2009</div> <p>Since the last kernel upgrade (now running a slightly customized 2.6.28) I started to experience a nasty issue with my audio configuration. I haven’t had the time to look at it since today, and it actually took a bit to figure out what was going wrong. Actually, my integrated audio card was no more visible on the system, i.e.:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sku@dreamland:~$ cat /proc/asound/cards
0 [U0x46d0x9a1    ]: USB-Audio - USB Device 0x46d:0x9a1
USB Device 0x46d:0x9a1 at usb-0000:00:1a.7-4, high speed
</code></pre></div></div> <p>This actually means that ALSA only recognizes an USB audio device, which actually is my mic-enhanced web cam. From previous experiences, I knew the kernel module I have to look at for my integrated audio card was <em>snd_hda_intel</em>, and <em>lsmod</em> was actually listing it among the loaded modules. Something wrong probably happened when that module was loaded. Since I’m too lazy even to grep inside of syslog for that module, I just give it another chance with <em>rmmod snd_hda_intel ; lsmod snd_hda_intel</em>. Nothing changed. This time, with a <em>tail -f</em> on syslog:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Apr  5 11:58:36 dreamland kernel: ALSA /usr/src/modules/alsa-driver/acore/init.c:138: cannot find the slot for index 0 (range 0-0), error: -16
Apr  5 11:58:36 dreamland kernel: ALSA /usr/src/modules/alsa-driver/pci/hda/../../alsa-kernel/pci/hda/hda_intel.c:1878: hda-intel: Error creating card!
Apr  5 11:58:36 dreamland kernel: HDA Intel: probe of 0000:00:1b.0 failed with error -12
</code></pre></div></div> <p>AHA! Probably someone already noticed the issue: while /proc/sound/cards lists my USB card already installed in slot #0, snd_hda_intel is trying to use that one and only slot (index 0, range 0-0) to install the other card. This requires some modprobe configuration. My system offered already a /etc/modprobe.d/snd-hda-intel, which only contained:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>options snd-hda-intel position_fix=2
options snd-hda-intel model=auto
</code></pre></div></div> <p>I actually don’t even know what that actually means, so I left those lines there while adding something above them. The resulting file is:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>alias snd-card-1 snd-usb-audio
option snd-usb-audio index=1
alias snd-card-0 snd-hda-intel
option snd-hda-intel index=0
options snd-hda-intel position_fix=2
options snd-hda-intel model=auto
</code></pre></div></div> <p>What I’m trying to do is obvious: put the cards in the correct order. And know what? It works! The image at the top of this post shows you it. Probably there are other more clever way to configure it, so any suggestion is welcome.</p> <br> <nav class="pagination"> <a href="/2009/03/24/apache-meetups-day-1/" class="pagination_pager" title="Apache Meetups - Day #1 ">&lt; Apache Meetups - Day #1</a> <a href="/2009/09/15/alfresco-and-ldap-sync-lock-my-admin-no-more/" class="pagination_pager" title="Alfresco and LDAP sync lock my Admin no more! ">Alfresco and LDAP sync lock... &gt;</a> </nav> <a href="https://twitter.com/intent/tweet?text=https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/" class="btn btn_twitter" title="Share on Twitter"><i class="fa fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a> <a href="https://www.facebook.com/sharer/sharer.php?u=https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/" class="btn btn_facebook" title="Share on Facebook"><i class="fa fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a> <a href="https://news.ycombinator.com/submitlink?u=https://codehopper.nl/2009/04/05/quick-fix-for-alsa-error-cannot-find-the-slot-for-index-0/" class="btn btn_hn" title="Share on Hacker News"><i class="fa fa-fw fa-hacker-news" aria-hidden="true"></i><span> Hacker News</span></a> <br /> </div> </div> <!-- JS --> <script src="/assets/js/main.min.js"></script> <div class="overlay"> <ul class="projects-menu"> <li style="background:url(http://taylantatli.me/Halve/images/halve-home-image.png) center center no-repeat;"> <a href="http://taylantatli.me/Halve" class="inactive" target="_blank" rel="nofollow external"> <span> Halve Jekyll Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://cloud.githubusercontent.com/assets/754514/14509720/61c61058-01d6-11e6-93ab-0918515ecd56.png) center center no-repeat;"> <a href="http://taylantatli.me/Moon" target="_blank" rel="nofollow external"> <span> Moon Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Ramme/master/assets/img/screenshot-post.png) center center no-repeat;"> <a href="http://taylantatli.me/Ramme" target="_blank" rel="nofollow external"> <span> Ramme Jekyll Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Daisy-Pelican-Theme/master/Preview-1.png) center center no-repeat;"> <a href="http://taylantatli.me/Daisy-Pelican-Theme/" target="_blank" rel="nofollow external"> <span> Daisy Pelican Theme </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/Block-Icon-Theme/master/Preview.png) center center no-repeat;"> <a href="https://github.com/TaylanTatli/Block-Icon-Theme" class="inactive" target="_blank" rel="nofollow external"> <span> Block Icon Theme <br><em>in progress</em> </span> </a> </li> <li style="background:url(https://raw.githubusercontent.com/TaylanTatli/StartPage/master/preview.png) center center no-repeat;"> <a href="http://taylantatli.me/StartPage/" class="inactive" target="_blank" rel="nofollow external"> <span> Start Page <br><em>in progress</em> </span> </a> </li> </ul> </div> <script data-goatcounter="https://codehopper.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script> </body> </html>
